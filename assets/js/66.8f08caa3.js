(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{649:function(a,s,t){"use strict";t.r(s);var e=t(4),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"centos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos"}},[a._v("#")]),a._v(" CentOS")]),a._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#卸载软件"}},[a._v("卸载软件")]),t("ul",[t("li",[t("a",{attrs:{href:"#rpm安装"}},[a._v("RPM安装")])]),t("li",[t("a",{attrs:{href:"#yum安装"}},[a._v("yum安装")])]),t("li",[t("a",{attrs:{href:"#源码编译安装"}},[a._v("源码编译安装")])]),t("li",[t("a",{attrs:{href:"#checkinstall"}},[a._v("checkinstall")])])])]),t("li",[t("a",{attrs:{href:"#初次配置"}},[a._v("初次配置")]),t("ul",[t("li",[t("a",{attrs:{href:"#修改时区为亚洲上海"}},[a._v("修改时区为亚洲上海")])]),t("li",[t("a",{attrs:{href:"#查看系统语言"}},[a._v("查看系统语言")])]),t("li",[t("a",{attrs:{href:"#安装简体中文语言包"}},[a._v("安装简体中文语言包")])]),t("li",[t("a",{attrs:{href:"#设置中文utf8编码"}},[a._v("设置中文utf8编码")])]),t("li",[t("a",{attrs:{href:"#设置vi显示行号"}},[a._v("设置vi显示行号")])]),t("li",[t("a",{attrs:{href:"#欢迎信息"}},[a._v("欢迎信息")])]),t("li",[t("a",{attrs:{href:"#profile-文件"}},[a._v("profile文件")])]),t("li",[t("a",{attrs:{href:"#ssh欢迎信息"}},[a._v("ssh欢迎信息")])])])]),t("li",[t("a",{attrs:{href:"#yum-操作"}},[a._v("yum操作")]),t("ul",[t("li",[t("a",{attrs:{href:"#安装-epel-源"}},[a._v("安装EPEL源")])]),t("li",[t("a",{attrs:{href:"#更新yum源包"}},[a._v("更新yum源包")])])])]),t("li",[t("a",{attrs:{href:"#systemctl"}},[a._v("systemctl")])]),t("li",[t("a",{attrs:{href:"#firewalld"}},[a._v("firewalld")]),t("ul",[t("li",[t("a",{attrs:{href:"#开启端口"}},[a._v("开启端口")])])])]),t("li",[t("a",{attrs:{href:"#rpm"}},[a._v("rpm")]),t("ul",[t("li",[t("a",{attrs:{href:"#查询已安装软件包信息"}},[a._v("查询已安装软件包信息")])]),t("li",[t("a",{attrs:{href:"#查询已安装软件包安装位置"}},[a._v("查询已安装软件包安装位置")])]),t("li",[t("a",{attrs:{href:"#查看已安装软件依赖"}},[a._v("查看已安装软件依赖")])]),t("li",[t("a",{attrs:{href:"#查看已安装软件的配置文件"}},[a._v("查看已安装软件的配置文件")])]),t("li",[t("a",{attrs:{href:"#查询已经安装文件所属软件包"}},[a._v("查询已经安装文件所属软件包")])]),t("li",[t("a",{attrs:{href:"#安装软件包数量"}},[a._v("安装软件包数量")])])])]),t("li",[t("a",{attrs:{href:"#内核升级"}},[a._v("内核升级")]),t("ul",[t("li",[t("a",{attrs:{href:"#手动安装"}},[a._v("手动安装")])])])]),t("li",[t("a",{attrs:{href:"#一键安装bbr"}},[a._v("一键安装BBR")]),t("ul",[t("li",[t("a",{attrs:{href:"#centos安装新版内核-headers"}},[a._v("CentOS安装新版内核headers")])]),t("li",[t("a",{attrs:{href:"#内核升级方法"}},[a._v("内核升级方法")])])])])])]),t("p"),a._v(" "),t("h2",{attrs:{id:"卸载软件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#卸载软件"}},[a._v("#")]),a._v(" 卸载软件")]),a._v(" "),t("h3",{attrs:{id:"rpm安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rpm安装"}},[a._v("#")]),a._v(" RPM安装")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" -qa "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" 软件名称\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" -e --nodeps 列出的软件全名\n")])])]),t("h3",{attrs:{id:"yum安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yum安装"}},[a._v("#")]),a._v(" yum安装")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("yum remove 软件名\n")])])]),t("h3",{attrs:{id:"源码编译安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#源码编译安装"}},[a._v("#")]),a._v(" 源码编译安装")]),a._v(" "),t("blockquote",[t("p",[a._v("编译时的路径如果指定了"),t("code",[a._v("--prefix /usr/local/xxx")]),a._v(" 直接"),t("code",[a._v("rm -rf /usr/local/xxx")]),a._v("即可。")]),a._v(" "),t("p",[a._v("没指定路径，那就到源码路径执行make uninstall，如果最初的编译文件夹被删除了，还可以重新下载、编译，然后删除")])]),a._v(" "),t("p",[t("strong",[a._v("如果源码被删除就查找并删除")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" / -name 软件名称\n")])])]),t("h3",{attrs:{id:"checkinstall"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#checkinstall"}},[a._v("#")]),a._v(" "),t("code",[a._v("checkinstall")])]),a._v(" "),t("blockquote",[t("p",[a._v("通过"),t("code",[a._v("checkinstall")]),a._v("管理编译安装过程")])]),a._v(" "),t("p",[t("strong",[a._v("使用"),t("code",[a._v("checkinstall")]),a._v("编译安装")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./configure\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v("\ncheckinstall\n")])])]),t("ul",[t("li",[a._v("CheckInstall会完成以下任务")])]),a._v(" "),t("blockquote",[t("p",[a._v("调用"),t("code",[a._v("make install")]),a._v("，然后用"),t("code",[a._v("installwatch")]),a._v("监视、记录整个安装过程中添加的文件")])]),a._v(" "),t("blockquote",[t("p",[a._v("等到安装完成，把记录的文件打包，根据不同的系统创建安装包："),t("code",[a._v(".rpm")]),a._v("或"),t("code",[a._v(".deb")])])]),a._v(" "),t("blockquote",[t("p",[a._v("注：安装包会保存在源代码目录，以便复制到其它机器安装，省去重复编译的麻烦。")])]),a._v(" "),t("blockquote",[t("p",[a._v("移除"),t("code",[a._v("make install")]),a._v("安装的文件")])]),a._v(" "),t("blockquote",[t("p",[a._v("调用系统安装工具来安装第2步创建的安装包："),t("code",[a._v("rpm -i")]),a._v("或"),t("code",[a._v("dpkg -i")])])]),a._v(" "),t("p",[t("strong",[a._v("卸载"),t("code",[a._v("checkinstall")]),a._v("安装的软件")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("CentOS: "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" -e package_name\nUbuntu: dpkg -r package_name\n")])])]),t("h2",{attrs:{id:"初次配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初次配置"}},[a._v("#")]),a._v(" 初次配置")]),a._v(" "),t("h3",{attrs:{id:"修改时区为亚洲上海"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改时区为亚洲上海"}},[a._v("#")]),a._v(" 修改时区为亚洲上海")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ln")]),a._v(" -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n")])])]),t("h3",{attrs:{id:"查看系统语言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看系统语言"}},[a._v("#")]),a._v(" 查看系统语言")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看系统当前使用语言包")]),a._v("\nlocale\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看系统拥有语言包")]),a._v("\nlocale -a\n")])])]),t("h3",{attrs:{id:"安装简体中文语言包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装简体中文语言包"}},[a._v("#")]),a._v(" 安装简体中文语言包")]),a._v(" "),t("blockquote",[t("p",[a._v("如果没有zh_CN.utf8就需要安装简体中文语言包")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("yum -y "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" kde-l10n-Chinese\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#glibc-common软件包包括用于GNU libc库的常见二进制文件，以及国家语言（locale）支持。")]),a._v("\nyum -y reinstall glibc-common\nyum -y groupinstall chinese-support\n")])])]),t("h3",{attrs:{id:"设置中文utf8编码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置中文utf8编码"}},[a._v("#")]),a._v(" 设置中文utf8编码")]),a._v(" "),t("p",[t("strong",[a._v("临时")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("LANG")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("zh_CN.utf8\n")])])]),t("p",[t("strong",[a._v("长久")])]),a._v(" "),t("blockquote",[t("p",[a._v("CenOS7修改"),t("code",[a._v("vi /etc/locale.conf")]),a._v("文件")]),a._v(" "),t("p",[a._v("CentOS6修改"),t("code",[a._v("vi /etc/sysconfig/i18n")]),a._v("文件")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("LANG")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"zh_CN.utf8"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("LANGUAGE")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"zh_CN.UTF-8:zh_CN.utf8:zh_CN"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SUPPORTED")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"zh_CN.utf8:zh_CN:zh:en_US.utf8:en_US:en"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SYSFONT")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"lat0-sun16"')]),a._v("\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("localectl  set-locale "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("LANG")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("zh_CN.utf8\n")])])]),t("h3",{attrs:{id:"设置vi显示行号"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置vi显示行号"}},[a._v("#")]),a._v(" 设置vi显示行号")]),a._v(" "),t("p",[t("strong",[a._v("编辑以下两个文件")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" /etc/vimrc\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" /etc/virc\n")])])]),t("p",[t("strong",[a._v("在开头或者末尾添加")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" number\n")])])]),t("h3",{attrs:{id:"欢迎信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#欢迎信息"}},[a._v("#")]),a._v(" 欢迎信息")]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v("vi /etc/motd")]),a._v("这个文件，可以在里面加入自己喜欢的任何欢迎信息，这段信息将会在登录成功后显示！")])]),a._v(" "),t("h3",{attrs:{id:"profile文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#profile文件"}},[a._v("#")]),a._v(" "),t("code",[a._v("profile")]),a._v("文件")]),a._v(" "),t("blockquote",[t("p",[a._v("为每一个运行bash shell的用户执行此文件.当bash shell被打开时,\n该文件被读取（即每次新开一个终端，都会执行bashrc）。")]),a._v(" "),t("p",[a._v("只要在同一个shell界面，不管多少用户登录都只执行一次")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" /etc/profile\n")])])]),t("blockquote",[t("p",[a._v("此文件为系统的每个用户设置环境信息,当用户第一次登录时,该文件被执行.\n并从"),t("code",[a._v("/etc/profile.d")]),a._v("目录的配置文件中搜集shell的设置。")]),a._v(" "),t("p",[a._v("如果进入shell用普通用户登录后，再用su进入root用户那么将会被执行两次")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" /etc/bashrc\n")])])]),t("blockquote",[t("p",[a._v("当root用户登录时执行")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" /root/.bash_profile\n")])])]),t("blockquote",[t("p",[a._v("当每次root用户退出系统(退出bash shell)时,执行该文件")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" /root/.bash_logout\n")])])]),t("blockquote",[t("p",[a._v("当root用户登录时以及每次打开新的shell时,该该文件被读取。")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" /root/.bashrc\n")])])]),t("blockquote",[t("p",[t("code",[a._v("/etc/profile")]),a._v("中设定的变量(全局)的可以作用于任何用户,\n"),t("code",[a._v("/.bashrc")]),a._v("设定的变量(局部)只能继承"),t("code",[a._v("/etc/profile")]),a._v("中的变量,他们是”父子”关系")])]),a._v(" "),t("h3",{attrs:{id:"ssh欢迎信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh欢迎信息"}},[a._v("#")]),a._v(" ssh欢迎信息")]),a._v(" "),t("blockquote",[t("p",[a._v("输入"),t("code",[a._v("shift + g")]),a._v("（就是大写的G）跳转到末尾添加以下内容")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'=========================================================='")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查询系统版本")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /etc/redhat-release\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查询内核版本")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("uname")]),a._v(" -sr\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'=========================================================='")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查询目前所有文件系统的可用空间及使用情形")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("df")]),a._v(" -h\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'=========================================================='")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查询内存使用情况")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("free")]),a._v(" -h\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'=========================================================='")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 切换到home文件夹")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /home\n")])])]),t("h2",{attrs:{id:"yum操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yum操作"}},[a._v("#")]),a._v(" "),t("code",[a._v("yum")]),a._v("操作")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("yum -y "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" 包名（支持*） ：自动选择y，全自动\n\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" 包名（支持*） ：手动选择y or n\n\nyum remove 包名（不支持*）\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" -ivh 包名（支持*）：安装rpm包\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" -e 包名（不支持*）：卸载rpm包\n\nyum info nginx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("查看当前版本可选"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\nyum list installed "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" 包名（不支持*）：确认是否安装过包\n")])])]),t("h3",{attrs:{id:"安装epel源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装epel源"}},[a._v("#")]),a._v(" 安装"),t("code",[a._v("EPEL")]),a._v("源")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("yum -y "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" epel-release \n")])])]),t("h3",{attrs:{id:"更新yum源包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更新yum源包"}},[a._v("#")]),a._v(" 更新yum源包")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("yum -y update\n")])])]),t("h2",{attrs:{id:"systemctl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#systemctl"}},[a._v("#")]),a._v(" "),t("code",[a._v("systemctl")])]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v("systemctl")]),a._v("是"),t("code",[a._v("CentOS7")]),a._v("的服务管理工具中主要的工具，它融合之前"),t("code",[a._v("service")]),a._v("和"),t("code",[a._v("chkconfig")]),a._v("的功能于一体。")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 启动一个服务")]),a._v("\nsystemctl start firewalld.service\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 关闭一个服务")]),a._v("\nsystemctl stop firewalld.service\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 重启一个服务")]),a._v("\nsystemctl restart firewalld.service\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 显示一个服务的状态")]),a._v("\nsystemctl status firewalld.service\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 在开机时启用一个服务")]),a._v("\nsystemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" firewalld.service\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 在开机时禁用一个服务")]),a._v("\nsystemctl disable firewalld.service\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看服务是否开机启动")]),a._v("\nsystemctl is-enabled firewalld.service\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看已启动的服务列表")]),a._v("\nsystemctl list-unit-files"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" enabled\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看启动失败的服务列表")]),a._v("\nsystemctl --failed\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看mysql是否自启动")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("chkconfig")]),a._v(" --list "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" mysqld\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 设置开启自启动")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("chkconfig")]),a._v(" mysqld on\n")])])]),t("h2",{attrs:{id:"firewalld"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#firewalld"}},[a._v("#")]),a._v(" "),t("code",[a._v("firewalld")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看firewalld状态，发现当前是dead状态，即防火墙未开启。")]),a._v("\nsystemctl status firewalld\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 开启防火墙，没有任何提示即开启成功。")]),a._v("\nsystemctl start firewalld\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看已开放的端口(默认不开放任何端口)")]),a._v("\nfirewall-cmd --list-ports\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 重启防火墙")]),a._v("\nfirewall-cmd --reload\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 停止防火墙")]),a._v("\nsystemctl stop firewalld.service\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 禁止防火墙开机启动")]),a._v("\nsystemctl disable firewalld.service\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 删除端口")]),a._v("\nfirewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" public --remove-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v("/tcp --permanent\n")])])]),t("h3",{attrs:{id:"开启端口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开启端口"}},[a._v("#")]),a._v(" 开启端口")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 开启80端口")]),a._v("\nfirewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("public --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v("/tcp --permanent\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 开启8080-8089的IP端")]),a._v("\nfirewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("public --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8080")]),a._v("-8089/tcp --permanent\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 开启3306端口")]),a._v("\nfirewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("public --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3306")]),a._v("/tcp --permanent\n")])])]),t("ul",[t("li",[a._v("命令含义")])]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v("--zone")]),a._v(" 作用域")])]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v("--add-port=80/tcp")]),a._v(" 添加端口，格式为：端口/通讯协议")])]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v("--permanent")]),a._v(" 永久生效，没有此参数重启后失效")])]),a._v(" "),t("p",[t("strong",[a._v("配置"),t("code",[a._v("firewalld-cmd")])])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看版本")]),a._v("\nfirewall-cmd --version\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看帮助")]),a._v("\nfirewall-cmd --help\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 显示状态")]),a._v("\nfirewall-cmd --state\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看所有打开的端口")]),a._v("\nfirewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("public --list-ports\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 更新防火墙规则")]),a._v("\nfirewall-cmd --reload\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看区域信息")]),a._v("\nfirewall-cmd --get-active-zones\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看指定接口所属区域")]),a._v("\nfirewall-cmd --get-zone-of-interface"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("eth0\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 拒绝所有包")]),a._v("\nfirewall-cmd --panic-on\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 取消拒绝状态")]),a._v("\nfirewall-cmd --panic-off\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看是否拒绝")]),a._v("\nfirewall-cmd --query-panic\n")])])]),t("h2",{attrs:{id:"rpm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rpm"}},[a._v("#")]),a._v(" rpm")]),a._v(" "),t("h3",{attrs:{id:"查询已安装软件包信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询已安装软件包信息"}},[a._v("#")]),a._v(" 查询已安装软件包信息")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" -qi 软件名\n")])])]),t("h3",{attrs:{id:"查询已安装软件包安装位置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询已安装软件包安装位置"}},[a._v("#")]),a._v(" 查询已安装软件包安装位置")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" -ql 软件名\n")])])]),t("h3",{attrs:{id:"查看已安装软件依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看已安装软件依赖"}},[a._v("#")]),a._v(" 查看已安装软件依赖")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" -qR 软件名\n")])])]),t("h3",{attrs:{id:"查看已安装软件的配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看已安装软件的配置文件"}},[a._v("#")]),a._v(" 查看已安装软件的配置文件")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" -qc 软件名\n")])])]),t("h3",{attrs:{id:"查询已经安装文件所属软件包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询已经安装文件所属软件包"}},[a._v("#")]),a._v(" 查询已经安装文件所属软件包")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" -qf 文件名的绝对路径\n")])])]),t("h3",{attrs:{id:"安装软件包数量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装软件包数量"}},[a._v("#")]),a._v(" 安装软件包数量")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" -qa "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wc")]),a._v(" -l \n")])])]),t("h2",{attrs:{id:"内核升级"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内核升级"}},[a._v("#")]),a._v(" 内核升级")]),a._v(" "),t("h3",{attrs:{id:"手动安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#手动安装"}},[a._v("#")]),a._v(" 手动安装")]),a._v(" "),t("ul",[t("li",[a._v("检查当前CentOS系统版本")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /etc/redhat-release\n")])])]),t("ul",[t("li",[a._v("检查当前CentOS系统内核版本")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("uname")]),a._v(" -sr\n")])])]),t("ul",[t("li",[a._v("运行yum命令升级")])]),a._v(" "),t("blockquote",[t("p",[a._v("CentOS中update命令可以一次性更新所有软件(包括系统版本)到最新版本。")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 先清除所有")]),a._v("\nyum clean all\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 再升级")]),a._v("\nyum update -y\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 升级内核")]),a._v("\nyum update kernel  -y\n")])])]),t("ul",[t("li",[a._v("在"),t("code",[a._v("CentOS7.x")]),a._v("上启用"),t("code",[a._v("ELRepo")]),a._v("仓库")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 首先导入elrepo的key")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 安装elrepo的yum")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" -Uvh http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm\n")])])]),t("ul",[t("li",[a._v("查看内核相关包")])]),a._v(" "),t("blockquote",[t("p",[a._v("仓库启用后，你可以使用下面的命令列出可用的系统内核相关包，查看内核相关包")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("yum --disablerepo"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"*"')]),a._v(" --enablerepo"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"elrepo-kernel"')]),a._v(" list available\n")])])]),t("ul",[t("li",[a._v("安装最新的主线稳定内核")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("yum -y --enablerepo"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("elrepo-kernel "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" kernel-ml\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 或者以下命令安装最新的主线稳定内核")]),a._v("\nyum -y --enablerepo"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("elrepo-kernel "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" kernel-ml.x86_64 kernel-ml-devel.x86_64\n")])])]),t("ul",[t("li",[a._v("查看可用内核")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /boot/grub2/grub.cfg "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" menuentry \n")])])]),t("ul",[t("li",[a._v("设置内核启动项")])]),a._v(" "),t("blockquote",[t("p",[a._v("替换刚刚查看出来的内核名字执行，比如："),t("code",[a._v("grub2-set-default 'CentOS Linux (4.15.13-1.el7.elrepo.x86_64) 7 (Core)'")])]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v("grub2-set-default '内核名字'")])])])]),a._v(" "),t("ul",[t("li",[a._v("查看内核启动项是否设置成功")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("grub2-editenv list\n")])])]),t("ul",[t("li",[a._v("重启")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("reboot")]),a._v("\n")])])]),t("ul",[t("li",[a._v("检查当前CentOS系统内核版本")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("uname")]),a._v(" -sr\n")])])]),t("ul",[t("li",[a._v("查看多余的内核")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" -qa "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" kernel\n")])])]),t("ul",[t("li",[a._v("删除多余的内核")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("yum remove 内核名字\n")])])]),t("h2",{attrs:{id:"一键安装bbr"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一键安装bbr"}},[a._v("#")]),a._v(" 一键安装BBR")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/teddysun/across",target:"_blank",rel:"noopener noreferrer"}},[a._v("秋水逸冰"),t("OutboundLink")],1)])]),a._v(" "),t("ul",[t("li",[a._v("下载并执行脚本")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" +x bbr.sh\n./bbr.sh\n")])])]),t("blockquote",[t("p",[a._v("安装完成后，脚本会提示需要重启 VPS，输入"),t("code",[a._v("y")]),a._v("并回车后重启。")])]),a._v(" "),t("ul",[t("li",[a._v("查看内核版本")])]),a._v(" "),t("blockquote",[t("p",[a._v("显示为最新版就表示OK了")]),a._v(" "),t("p",[a._v("重启完成后，进入VPS，验证一下是否成功安装最新内核并开启"),t("code",[a._v("TCP BBR")])])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("uname")]),a._v(" -r\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("sysctl net.ipv4.tcp_available_congestion_control\n")])])]),t("blockquote",[t("p",[a._v("返回值一般为"),t("code",[a._v("net.ipv4.tcp_available_congestion_control = bbr cubic reno")])])]),a._v(" "),t("blockquote",[t("p",[a._v("或者为："),t("code",[a._v("net.ipv4.tcp_available_congestion_control = reno cubic bbr")])])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("sysctl net.ipv4.tcp_congestion_control\n")])])]),t("blockquote",[t("p",[a._v("返回值一般为 "),t("code",[a._v("net.ipv4.tcp_congestion_control = bbr")])])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("sysctl net.core.default_qdisc\n")])])]),t("blockquote",[t("p",[a._v("返回值一般为 "),t("code",[a._v("net.core.default_qdisc = fq")])])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("lsmod "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" bbr\n")])])]),t("blockquote",[t("p",[a._v("返回值有"),t("code",[a._v("tcp_bbr")]),a._v("模块即说明"),t("code",[a._v("bbr")]),a._v("已启动。")])]),a._v(" "),t("blockquote",[t("p",[a._v("注意：并不是所有的都会有此返回值，若没有也属正常。")])]),a._v(" "),t("h3",{attrs:{id:"centos安装新版内核headers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos安装新版内核headers"}},[a._v("#")]),a._v(" CentOS安装新版内核"),t("code",[a._v("headers")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("yum --enablerepo"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("elrepo-kernel -y "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" kernel-ml-headers\n")])])]),t("ul",[t("li",[a._v("根据"),t("code",[a._v("CentOS")]),a._v("版本的不同，此时一般会出现类似于以下的错误提示：")])]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v("Error: kernel-ml-headers conflicts with kernel-headers-2.6.32-696.20.1.el6.x86_64")])])]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v("Error: kernel-ml-headers conflicts with kernel-headers-3.10.0-693.17.1.el7.x86_64")])])]),a._v(" "),t("p",[t("strong",[a._v("卸载原版内核"),t("code",[a._v("headers")])])]),a._v(" "),t("blockquote",[t("p",[a._v("需要先卸载原版内核"),t("code",[a._v("headers")]),a._v("，然后再安装最新版内核"),t("code",[a._v("headers")]),a._v("。")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("yum remove kernel-headers -y\n")])])]),t("blockquote",[t("p",[a._v("注意：有时候这么操作还会卸载一些对内核 headers 依赖的安装包，比如 gcc、gcc-c++ 之类的。\n不过不要紧，我们可以在安装完最新版内核 headers 后再重新安装回来即可。")])]),a._v(" "),t("h3",{attrs:{id:"内核升级方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内核升级方法"}},[a._v("#")]),a._v(" 内核升级方法")]),a._v(" "),t("ul",[t("li",[a._v("CentOS系统升级内核")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("yum -y "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" kernel-ml kernel-ml-devel\n")])])]),t("ul",[t("li",[a._v("升级"),t("code",[a._v("headers")])])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("yum -y "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" kernel-ml-headers\n")])])]),t("ul",[t("li",[a._v("执行命令")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("grub2-set-default "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n")])])]),t("blockquote",[t("p",[a._v("最后，重启VPS即可。")])])])}),[],!1,null,null,null);s.default=r.exports}}]);